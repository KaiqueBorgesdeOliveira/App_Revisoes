<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Sistema de Revisão de Salas - UOL</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <link href="styles.css" rel="stylesheet"/>
</head>
<body>
    <div class="main-wrapper">

        <!-- Navbar dentro da prancheta -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a href="#" class="navbar-brand">
                    <img src="images/logo-uol-1024.png" alt="UOL" />
                </a>

                <div class="navbar-divider" aria-hidden="true"></div>

                <span class="navbar-text">Sistema de Revisão de Salas</span>

                <div class="ms-auto d-flex align-items-center gap-2">
                    <button id="btnSelectAll" type="button" class="btn btn-outline-primary btn-select-all" data-selected="0">
                        <i class="fa fa-check-square me-1" aria-hidden="true"></i> Selecionar Todas
                    </button>

                    <button id="btnDeleteSelected" type="button" class="btn btn-outline-danger">
                        <i class="fa fa-trash me-1"></i> Excluir Selecionadas
                    </button>

                    <button class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#addSalaModal">
                        + Nova Sala
                    </button>
                </div>
            </div>
        </nav>

        <!-- Conteúdo principal -->
        <div class="container mt-4">
            <div class="header-content">
                <div class="header-title">
                    <h1 class="h3">Salas de Reunião</h1>
                </div>
            </div>

            <div class="filters-row">
                <input type="search" class="form-control" placeholder="Buscar salas..." id="searchSala" style="max-width:300px;">
                
                <select id="filterEscritorio" class="form-select" style="max-width:200px;">
                    <option value="">Todas as localidades</option>
                </select>
                
                <select id="filterAndar" class="form-select" style="max-width:200px;">
                    <option value="">Todos os andares</option>
                </select>
                
                <button type="button" class="btn btn-outline-secondary btn-sm" id="btnLimparFiltros">
                    <i class="fas fa-times"></i> Limpar Filtros
                </button>
                
                <div class="ms-auto"></div>
            </div>

            <!-- Grid de cards -->
            <div id="salas-container" class="mt-3"></div>
        </div>

        <!-- Modal Adicionar Sala -->
        <div class="modal fade" id="addSalaModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Adicionar Nova Sala</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Escritório</label>
                            <select class="form-select" id="selectEscritorio" onchange="atualizarAndares()"></select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Andar</label>
                            <select class="form-select" id="selectAndar" onchange="atualizarNumeroSala()"></select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Número da Sala</label>
                            <input type="text" class="form-control" id="numeroSala" readonly>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-primary" onclick="salvarNovaSala()">Salvar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Revisar -->
        <div class="modal fade" id="revisarModal" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Revisar Sala</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
              </div>
              <div class="modal-body">
                <!-- preenchido dinamicamente -->
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary btn-save-revisao">Salvar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal Histórico (melhor visualização) -->
        <div class="modal fade" id="historicoModal" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Histórico</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
              </div>
              <div class="modal-body">
                <!-- preenchido dinamicamente -->
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal visualizador de foto (apenas imagem ampliada) -->
        <div class="modal fade" id="photoViewerModal" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-md">
            <div class="modal-content">
              <div class="modal-body p-2 text-center">
                <img id="photoViewerImg" src="" alt="Foto" style="max-width:100%;border-radius:6px;">
              </div>
            </div>
          </div>
        </div>

        <!-- Rodapé UOL -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo">
                        <img src="images/logo-uol-icon-1024.png" alt="UOL">
                        <span class="footer-text">Universo Online</span>
                    </div>
                    <div class="footer-links">
                        <a href="#sobre">Sobre</a>
                        <span class="footer-divider"></span>
                        <a href="#suporte">Suporte</a>
                        <span class="footer-divider"></span>
                        <a href="#contato">Contato</a>
                    </div>
                </div>
                <div class="footer-info">
                    <p>&copy; 2025 UOL - Universo Online S.A. Todos os direitos reservados.</p>
                </div>
            </div>
        </footer>

    </div> <!-- Fecha .main-wrapper -->

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/salas.js"></script>
</body>
</html>